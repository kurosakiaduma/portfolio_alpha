---
// RetroBackground.astro - Animated synthwave background with grid, particles, and effects
---

<div class="retro-background fixed inset-0 -z-50 overflow-hidden">
  <!-- Base gradient background -->
  <div class="absolute inset-0 bg-gradient-to-b from-retro-bg via-retro-bg-light to-retro-bg"></div>
  
  <!-- Animated grid -->
  <div class="grid-layer absolute inset-0 opacity-20">
    <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
          <path d="M 50 0 L 0 0 0 50" fill="none" stroke="url(#gridGradient)" stroke-width="0.5"/>
        </pattern>
        <linearGradient id="gridGradient" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#00ffd5;stop-opacity:0.8" />
          <stop offset="100%" style="stop-color:#ff00aa;stop-opacity:0.2" />
        </linearGradient>
      </defs>
      <rect width="100%" height="100%" fill="url(#grid)" />
    </svg>
  </div>
  
  <!-- Floating particles -->
  <div class="particles-layer absolute inset-0">
    <div class="particle particle-1"></div>
    <div class="particle particle-2"></div>
    <div class="particle particle-3"></div>
    <div class="particle particle-4"></div>
    <div class="particle particle-5"></div>
    <div class="particle particle-6"></div>
    <div class="particle particle-7"></div>
    <div class="particle particle-8"></div>
    <div class="particle particle-9"></div>
    <div class="particle particle-10"></div>
  </div>
  
  <!-- Subtle floating orbs -->
  <div class="orbs-layer absolute inset-0">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
  </div>
  
  <!-- Scanning line effect -->
  <div class="scan-line absolute w-full h-0.5 bg-gradient-to-r from-transparent via-retro-cyan to-transparent opacity-60"></div>
  
  <!-- Noise and scanlines overlay -->
  <div class="absolute inset-0 noise scanlines"></div>
  
  <!-- Vignette effect -->
  <div class="absolute inset-0 vignette"></div>
</div>

<style>
  .retro-background {
    background: 
      radial-gradient(ellipse at top, rgba(0,255,213,0.1) 0%, transparent 50%),
      radial-gradient(ellipse at bottom, rgba(255,0,170,0.1) 0%, transparent 50%),
      #0a0a0a;
  }

  .grid-layer {
    background-image: 
      linear-gradient(rgba(0,255,213,0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,255,213,0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 20s linear infinite;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  .particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: #00ffd5;
    border-radius: 50%;
    opacity: 0.6;
    animation: float infinite ease-in-out;
  }

  .particle-1 {
    top: 20%;
    left: 10%;
    animation-duration: 6s;
    animation-delay: 0s;
  }

  .particle-2 {
    top: 60%;
    left: 80%;
    animation-duration: 8s;
    animation-delay: 1s;
    background: #ff00aa;
  }

  .particle-3 {
    top: 80%;
    left: 20%;
    animation-duration: 7s;
    animation-delay: 2s;
    background: #88ff00;
  }

  .particle-4 {
    top: 30%;
    left: 70%;
    animation-duration: 9s;
    animation-delay: 3s;
    background: #ffaa00;
  }

  .particle-5 {
    top: 50%;
    left: 50%;
    animation-duration: 5s;
    animation-delay: 4s;
  }

  .particle-6 {
    top: 10%;
    left: 90%;
    animation-duration: 10s;
    animation-delay: 5s;
    background: #aa00ff;
  }

  .particle-7 {
    top: 70%;
    left: 15%;
    animation-duration: 12s;
    animation-delay: 6s;
    background: #00ffd5;
    width: 1px;
    height: 1px;
  }

  .particle-8 {
    top: 25%;
    left: 60%;
    animation-duration: 8s;
    animation-delay: 7s;
    background: #ff00aa;
    width: 1.5px;
    height: 1.5px;
  }

  .particle-9 {
    top: 90%;
    left: 75%;
    animation-duration: 15s;
    animation-delay: 8s;
    background: #88ff00;
    width: 1px;
    height: 1px;
  }

  .particle-10 {
    top: 5%;
    left: 25%;
    animation-duration: 11s;
    animation-delay: 9s;
    background: #ffaa00;
    width: 1.5px;
    height: 1.5px;
  }

  .orb {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(0,255,213,0.1) 0%, transparent 70%);
    animation: orbFloat infinite ease-in-out;
    pointer-events: none;
  }

  .orb-1 {
    width: 200px;
    height: 200px;
    top: 20%;
    left: 10%;
    background: radial-gradient(circle, rgba(0,255,213,0.08) 0%, transparent 70%);
    animation-duration: 20s;
    animation-delay: 0s;
  }

  .orb-2 {
    width: 150px;
    height: 150px;
    top: 60%;
    right: 15%;
    background: radial-gradient(circle, rgba(255,0,170,0.06) 0%, transparent 70%);
    animation-duration: 25s;
    animation-delay: 5s;
  }

  .orb-3 {
    width: 120px;
    height: 120px;
    bottom: 20%;
    left: 30%;
    background: radial-gradient(circle, rgba(136,255,0,0.05) 0%, transparent 70%);
    animation-duration: 30s;
    animation-delay: 10s;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px) translateX(0px);
      opacity: 0.6;
    }
    25% {
      transform: translateY(-20px) translateX(10px);
      opacity: 1;
    }
    50% {
      transform: translateY(-10px) translateX(-5px);
      opacity: 0.8;
    }
    75% {
      transform: translateY(-30px) translateX(-10px);
      opacity: 0.9;
    }
  }

  @keyframes orbFloat {
    0%, 100% {
      transform: translateY(0px) translateX(0px) scale(1);
      opacity: 0.4;
    }
    33% {
      transform: translateY(-15px) translateX(15px) scale(1.1);
      opacity: 0.6;
    }
    66% {
      transform: translateY(10px) translateX(-10px) scale(0.9);
      opacity: 0.3;
    }
  }

  .scan-line {
    animation: scanMove 3s linear infinite;
  }

  @keyframes scanMove {
    0% {
      top: -2px;
      opacity: 0;
    }
    10% {
      opacity: 0.6;
    }
    90% {
      opacity: 0.6;
    }
    100% {
      top: 100%;
      opacity: 0;
    }
  }

  /* Disable animations for reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .grid-layer,
    .particle,
    .scan-line {
      animation: none;
    }
    
    .particle {
      opacity: 0.3;
    }
  }
</style>
